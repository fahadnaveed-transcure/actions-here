name: comment with API
on:
  issues:
    types: [opened, edited, closed, reopened]


jobs:
    mytest12:
        runs-on: ubuntu-latest
         
          - name: "dump github actions"
            run: echo '${{toJSON(github.event)}}' | jq && echo '${{toJSON(github.event)}}'
            #run: echo '${{toJSON(github.event)}}'
            shell: bash
    #commentapi:
        #runs-on: ubuntu-latest
        #steps:
            #commentapi:
            - name: comment with API
              run: |
                gh api -X POST \
                https://api.github.com/repo/${ORGANISATION}/${REPOSITORY}/issues/${ISSUE_NUMBER}/comments \
                -f body='
                Comments but from API not from actions'
                
              env:
                GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
                ORGANISATOIN: ${{github.event.organisation.login}}
                REPOSITORY: ${{github.event.repository.name}}
                ISSUE_NUMBER: ${{github.event.issue.number}}
            
            
